{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","components/Streams/StreamForm.js","components/Streams/StreamCreate.js","components/Streams/StreamList.js","components/Modal.js","components/Streams/StreamDelete.js","components/Streams/StreamShow.js","components/Streams/StreamEdit.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducers.js","reducers/index.js","reducers/streamReducers.js","index.js"],"names":["axios","create","baseURL","createHashHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","rel","history","push","StreamList","renderList","map","stream","key","renderupdown","renderAdmin","to","fetchStreams","currentUserId","onClick","re","upvote","document","getElementById","classList","contains","toggle","downvote","Popup","content","on","pinned","trigger","Button","children","isSignedIn","style","textAlign","renderCreate","state","Object","values","patch","Modal","ReactDOM","createPortal","onDismiss","e","stopPropagation","actions","querySelector","StreamDelete","match","params","Fragment","deleteStream","renderContent","renderAction","ownProps","delete","StreamShow","StreamEdit","console","log","editStream","initialValues","_","pick","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInC","onSignOutC","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITAL_STATE","AuthReducer","action","combineReducers","authReducers","reducer","omit","mapKeys","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.4631067d.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport default axios.create({\r\n    baseURL:'http://localhost:3001'\r\n})\r\n\r\n","import { createHashHistory } from 'history'; \r\nexport default createHashHistory();","import streams from '../apis/streams'\r\nimport history from '../history'\r\nexport const signIn=(userId) =>{\r\n    return{\r\n        type:'SIGN_IN',\r\n        payload: userId\r\n    }\r\n}\r\nexport const signOut=() =>{\r\n    return{\r\n        type:'SIGN_OUT'\r\n    }\r\n}\r\n\r\nexport const createStream = formValues => async (dispatch,getState) =>{\r\n    const { userId} = getState().auth\r\n    const rel =0\r\n    const response = await streams.post('/streams',{...formValues, userId,rel})\r\n    \r\n    dispatch({type:'CREATE_STREAM',payload: response.data})\r\n    //Do nav to bring user to stream list\r\n    history.push('/')\r\n}\r\nexport const upvote = (id,rel) => async dispatch =>{\r\n    \r\n    const response = await streams.patch(`/streams/${id}`,rel)\r\n    dispatch({type:'UPVOTE',payload: response.data})\r\n    //Do nav to bring user to stream list\r\n}\r\nexport const downvote = (id,rel) => async dispatch =>{\r\n    const response = await streams.patch(`/streams/${id}`,rel)\r\n    dispatch({type:'DOWNVOTE',payload: response.data})\r\n    //Do nav to bring user to stream list\r\n}\r\nexport const fetchStreams = () => async dispatch =>{\r\n    const response = await streams.get('/streams')\r\n    dispatch({type:'FETCH_STREAMS',payload: response.data})\r\n}\r\nexport const fetchStream = (id) => async dispatch =>{\r\n    const response = await streams.get(`/streams/${id}`)\r\n    dispatch({type:'FETCH_STREAM',payload: response.data})\r\n}\r\nexport const editStream = (id,formValues) => async dispatch =>{\r\n    const response = await streams.patch(`/streams/${id}`,formValues)\r\n    dispatch({type:'EDIT_STREAM',payload: response.data})\r\n    history.push('/')\r\n}\r\nexport const deleteStream = (id) => async dispatch =>{\r\n    await streams.delete(`/streams/${id}`)\r\n    dispatch({type:'DELETE_STREAM',payload: id})\r\n    history.push('/')\r\n}\r\n\r\n","  \r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`  ;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n        className=\"ui form error\"\r\n      >\r\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n        <Field\r\n          name=\"description\"\r\n          component={this.renderInput}\r\n          label=\"Enter Description\"\r\n        />\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n\r\n  if (!formValues.title) {\r\n    errors.title = 'You must enter a title';\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = 'You must enter a description';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\n\r\nexport default reduxForm({\r\n  form: 'streamForm',\r\n  validate\r\n}) (StreamForm)\r\n//connect(mapStateToProps)\r\n\r\n\r\n\r\n","\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {createStream} from '../../actions'\r\nimport StreamForm from './StreamForm'\r\n\r\nexport class StreamCreate extends Component { \r\n\r\n\r\n  onSubmit = (formValues)=>{\r\n    // event.preventDefault(); don;t need that\r\n    // console.log(formValues)\r\n    this.props.createStream(formValues)\r\n\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props)\r\n    return (\r\n      <div>\r\n        <h3>Create a Stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n  \r\n// })\r\n\r\n// const mapDispatchToProps = {\r\n  \r\n// }\r\n\r\n\r\n//connect(mapStateToProps)\r\n\r\nexport default connect(null,{createStream})( StreamCreate)\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {fetchStreams,upvote,downvote} from '../../actions'\r\nimport {Link} from 'react-router-dom'\r\nimport { Button, Popup } from 'semantic-ui-react'\r\n\r\nclass StreamList extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.fetchStreams()\r\n    \r\n  }\r\n\r\n  renderAdmin(stream){\r\n    if(stream.userId=== this.props.currentUserId){\r\n      return(\r\n        <div className=\"right floated content\">\r\n          <Link className=\" ui button primary\" to={`/streams/edit/${stream.id}`}>\r\n            Edit\r\n          </Link>\r\n          <Link className=\" ui button negative\" to={`/streams/delete/${stream.id}`}>\r\n            Delete\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  renderupdown(stream){\r\n    \r\n    if(this.props.currentUserId){\r\n      return(\r\n        <div className=\"left floated content  \">\r\n          <button className=\"ui icon green button bob\"id={stream.id} onClick={()=>{\r\n              let re={\"rel\":stream.rel+1}\r\n              this.props.upvote(stream.id,re)\r\n\r\n              \r\n              if ( !document.getElementById(`${stream.id}`).classList.contains('disabled') ){\r\n                document.getElementById(`${stream.id}`).classList.toggle('disabled');\r\n              }  \r\n          }}>\r\n            <i className=\"arrow alternate circle up icon\"> \r\n            </i>\r\n          </button>\r\n          {stream.rel + ' '}\r\n\r\n          <button className=\"ui icon red button bob\"id={stream.id+'r'} onClick={()=>{\r\n              let re={\"rel\":stream.rel-1}\r\n              this.props.downvote(stream.id,re)\r\n              \r\n              if ( !document.getElementById(`${stream.id+'r'}`).classList.contains('disabled') ){\r\n                document.getElementById(`${stream.id+'r'}`).classList.toggle('disabled');\r\n              }  \r\n          }}>\r\n            <i className=\" arrow alternate circle down icon\"> \r\n\r\n            </i>\r\n          </button>\r\n        </div>\r\n      )\r\n    }else{\r\n      return(\r\n        <div className=\"left floated content  \">\r\n              <Popup\r\n        content='Sign in to vote'\r\n        on='click'\r\n        pinned\r\n        trigger={<Button content='Button'className=\"ui icon green button bob\" children={\r\n          <i className=\"arrow alternate circle up icon\"> \r\n            </i>\r\n        } />}\r\n      />\r\n          {stream.rel + ' '}\r\n          <Popup\r\n        content='Sign in to vote'\r\n        on='click'\r\n        pinned\r\n        trigger={<Button content='Button'className=\"ui icon red button bob\" children={\r\n          <i className=\"arrow alternate circle down icon\"> \r\n            </i>\r\n        } />}\r\n      />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderList=()=>{\r\n    return this.props.streams.map(stream =>{\r\n      return(\r\n        <div className='item' key={stream.id}>\r\n          {this.renderupdown(stream)}\r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\"/>\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`}className=\"header\">{stream.title}\r\n\r\n          <div className='description'>\r\n          {stream.description}\r\n          </div>\r\n          </Link>\r\n          </div>\r\n          \r\n          \r\n        </div>\r\n        \r\n      )\r\n    })\r\n  }\r\n\r\n  renderCreate(){\r\n    if(this.props.isSignedIn){\r\n      return(\r\n        <div style={{textAlign: 'right'}}>\r\n          <Link to='/streams/new' className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams:</h2>\r\n      <div className='ui celled list'>{this.renderList()}</div>\r\n      {this.renderCreate()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n}\r\n\r\n// const mapDispatchToProps = {\r\n  \r\n// }\r\n\r\n export default connect(mapStateToProps, {fetchStreams,upvote,downvote})(StreamList)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\n\r\nconst Modal = props => {\r\n    return ReactDOM.createPortal(\r\n        <div onClick={props.onDismiss}className=\"ui dimmer modals visible active\">\r\n            <div onClick={(e)=>e.stopPropagation()}className=\"ui standard modal visible active\">\r\n                <div className=\"header \">\r\n                {props.title}\r\n                </div>\r\n                <div className='content'>\r\n                    {props.content}\r\n                </div>\r\n                <div className=\"actions\">\r\n                    {props.actions}\r\n                </div> \r\n            </div>\r\n        </div>,document.querySelector('#modal')\r\n    )\r\n}\r\nexport default Modal","import React from 'react';\r\nimport Modal from '../Modal'\r\nimport history from '../../history'\r\nimport { fetchStream, deleteStream } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass StreamDelete  extends React.Component{\r\n  componentDidMount(){\r\n    this.props.fetchStream(this.props.match.params.id)\r\n  }\r\n  renderAction(){\r\n    return (\r\n        <React.Fragment>\r\n          <button className='ui button negative' onClick={()=> this.props.deleteStream(this.props.match.params.id)}>Delete</button>\r\n          <Link className='ui button' to='/'>Cancel</Link>\r\n        </React.Fragment> \r\n    )\r\n  }\r\n  renderContent(){\r\n    if(!this.props.stream){\r\n      return 'Are you sure you want to  delete this stream?'\r\n    }\r\n    return`Are you sure you want to  delete this stream with title: ${this.props.stream.title}`\r\n    \r\n  }\r\n  render(){\r\n  return (   \r\n      <Modal title='Delete Stream' content={this.renderContent()} actions={this.renderAction()} onDismiss={()=> history.push('/')} />\r\n  )\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect (mapStateToProps,{fetchStream,deleteStream })(StreamDelete)\r\n","import React from 'react'\r\n// import history from '../../history'\r\nimport { fetchStream} from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass StreamShow extends React.Component{\r\n  componentDidMount(){\r\n    this.props.fetchStream(this.props.match.params.id)\r\n  }\r\n\r\n  render(){\r\n    if(!this.props.stream){\r\n      return 'Loading...'\r\n    }\r\n    \r\n  return (   \r\n      <div>\r\n        <h1>{this.props.stream.title}</h1>\r\n        <h4>{this.props.stream.description}</h4>\r\n      </div>\r\n  )\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect (mapStateToProps,{fetchStream })(StreamShow)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream,editStream } from '../../actions';\r\nimport  StreamForm  from './StreamForm'\r\nimport _ from 'lodash';\r\n \r\nclass StreamEdit extends React.Component {\r\n  //console.log(this.props)\r\n    componentDidMount() {\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    onSubmit =(formValues) =>{\r\n      console.log(formValues)\r\n      this.props.editStream(this.props.match.params.id,formValues)\r\n    }\r\n \r\n    render() {\r\n        if (!this.props.stream) {\r\n            return (\r\n              <div>\r\n                Loading...\r\n              </div>\r\n            )\r\n        }\r\n        return (\r\n          <div>\r\n            <h3>\r\n              Edit a Stream\r\n            </h3>\r\n            <StreamForm \r\n            onSubmit={this.onSubmit}\r\n            initialValues={_.pick(this.props.stream, 'title', 'description')}\r\n            />\r\n          </div>\r\n        )\r\n    }\r\n}\r\n \r\nconst mapStateToProps = (state, ownProps) => {\r\n    return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n \r\nexport default connect(mapStateToProps,{fetchStream, editStream})(StreamEdit);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {signIn, signOut} from '../actions/'\r\n\r\nexport class GoogleAuth extends Component {\r\n    \r\n    //gapi client libary javascript refernace\r\n    componentDidMount(){\r\n        window.gapi.load('client:auth2', ()=>{\r\n            window.gapi.client.init({\r\n                //For TESTING IN locaal host change client id to:474701895667-fc0tuc22q8osnfcbrsbgecergi8euc0m.apps.googleusercontent.com\r\n                //1083543663432-rocmmesl0ges09p5n33fofu030ks4leq.apps.googleusercontent.com\r\n                clientId:'1083543663432-rocmmesl0ges09p5n33fofu030ks4leq.apps.googleusercontent.com',\r\n                scope:'email'\r\n                // scope:'profile'\r\n            }).then(()=>{\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                // this.setState({isSignedIn: this.auth.isSignedIn.get()})// fiset get value\r\n                this.onAuthChange(this.auth.isSignedIn.get())\r\n                this.auth.isSignedIn.listen(this.onAuthChange);// call it evry time with inbuilt event handler\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    onAuthChange =(isSignedIn) =>{\r\n        if (isSignedIn){\r\n            this.props.signIn(this.auth.currentUser.get().getId());\r\n\r\n        }else{\r\n            this.props.signOut();\r\n        }\r\n    }\r\n    onSignInC =()=>{\r\n        this.auth.signIn()\r\n    }\r\n    onSignOutC =()=>{\r\n        this.auth.signOut()\r\n    }\r\n    renderAuthButton(){\r\n        if(this.props.isSignedIn === null){\r\n            return null\r\n        }else if(this.props.isSignedIn){\r\n            return(\r\n                <button className=\"ui red google button\" onClick={this.onSignOutC}>\r\n                    <i className=\"google icon\"/>\r\n                    Sign out\r\n                </button>\r\n            )\r\n        }else{\r\n            return(               \r\n                <button className=\"ui red google button\"onClick={this.onSignInC }>\r\n                    <i className=\"google icon\"/>\r\n                        Sign in with Google\r\n                 </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderAuthButton()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {isSignedIn: state.auth.isSignedIn}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps,{signIn,signOut}) (GoogleAuth)\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth'\r\nconst Header = () =>{\r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n            Streamy.com\r\n        </Link>\r\n        <div className=\"right menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n            Streams\r\n        </Link>\r\n        </div>\r\n        <GoogleAuth/>\r\n           \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react';\nimport { HashRouter, Route, Switch} from 'react-router-dom';\nimport StreamCreate from './Streams/StreamCreate'\nimport StreamList from './Streams/StreamList'\nimport StreamDelete from './Streams/StreamDelete'\nimport StreamShow from './Streams/StreamShow'\nimport StreamEdit from './Streams/StreamEdit'\nimport Header from './Header'\nimport history from '../history'\n\nconst App = () =>{\n  return (\n    <div className=\"ui container\">\n      \n      <HashRouter history={history}>\n      <div> \n      <Header/>\n        <Switch>\n        <Route path=\"/\" exact component={StreamList}/>\n          <Route path=\"/streams/new\"  component={StreamCreate}/>\n          <Route path=\"/streams/edit/:id\"  component={StreamEdit}/> \n          <Route path=\"/streams/delete/:id\"  component={StreamDelete}/>\n          <Route path=\"/streams/:id\"  component={StreamShow}/>\n        </Switch>\n\n        </div>\n      </HashRouter> \n    </div>\n  )\n}\n\nexport default App;\n","const INITAL_STATE ={\r\n    isSignedIn: null,\r\n    userId: null\r\n}\r\n//defaulting a value in an object\r\n const AuthReducer = (state =INITAL_STATE, action)=>{\r\n    switch(action.type){\r\n        case 'SIGN_IN':\r\n            return{...state, isSignedIn:true, userId:action.payload};\r\n        case 'SIGN_OUT':\r\n            return{...state, isSignedIn:false, userId:null}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default AuthReducer","import { combineReducers } from \"redux\";\r\nimport { reducer } from 'redux-form'\r\nimport  streamReducer from './streamReducers';\r\n\r\nimport authReducers from \"./authReducers\";\r\n\r\nexport default combineReducers({\r\n    auth: authReducers,\r\n    form: reducer,\r\n    streams: streamReducer\r\n})","import _ from 'lodash'\r\n\r\nexport default( state = {}, action) =>{\r\n    switch(action.type){\r\n        case 'FETCH_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'CREATE_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'EDIT_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'DELETE_STREAM':\r\n            return _.omit(state, action.payload)// makes a new object on it's own\r\n        case 'FETCH_STREAMS':\r\n            return { ...state, ..._.mapKeys(action.payload,'id')}\r\n        case 'UPVOTE':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'DOWNVOTE':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport {createStore, compose, applyMiddleware} from 'redux'\nimport reduxThunk from 'redux-thunk'\nimport './style.css'\nimport App from './components/App';\nimport reducers from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n  )\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>\n    ,\n  document.querySelector('#root')\n);\n\n\n"],"sourceRoot":""}