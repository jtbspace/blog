{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","components/Streams/StreamForm.js","components/Streams/StreamCreate.js","components/Streams/StreamList.js","components/Modal.js","components/Streams/StreamDelete.js","components/Streams/StreamShow.js","components/Streams/StreamEdit.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducers.js","reducers/index.js","reducers/streamReducers.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamList","renderList","map","stream","key","renderAdmin","to","fetchStreams","currentUserId","isSignedIn","style","textAlign","renderCreate","state","Object","values","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","match","params","Fragment","deleteStream","renderContent","renderAction","ownProps","delete","StreamShow","StreamEdit","editStream","initialValues","_","pick","patch","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInC","onSignOutC","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITAL_STATE","AuthReducer","action","combineReducers","authReducers","reducer","omit","mapKeys","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.e116138f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport default axios.create({\r\n    baseURL:'http://localhost:3001/'\r\n})","import { createBrowserHistory } from 'history'; \r\nexport default createBrowserHistory();","import streams from '../apis/streams'\r\nimport history from '../history'\r\nexport const signIn=(userId) =>{\r\n    return{\r\n        type:'SIGN_IN',\r\n        payload: userId\r\n    }\r\n}\r\nexport const signOut=() =>{\r\n    return{\r\n        type:'SIGN_OUT'\r\n    }\r\n}\r\n\r\nexport const createStream = formValues => async (dispatch,getState) =>{\r\n    const { userId} = getState().auth\r\n    const response = await streams.post('/streams',{...formValues, userId})\r\n    \r\n    dispatch({type:'CREATE_STREAM',payload: response.data})\r\n    //Do nav to bring user to stream list\r\n    history.push('/')\r\n}\r\n\r\nexport const fetchStreams = () => async dispatch =>{\r\n    const response = await streams.get('/streams')\r\n    dispatch({type:'FETCH_STREAMS',payload: response.data})\r\n}\r\nexport const fetchStream = (id) => async dispatch =>{\r\n    const response = await streams.get(`/streams/${id}`)\r\n    dispatch({type:'FETCH_STREAM',payload: response.data})\r\n}\r\nexport const editStream = (id,formValues) => async dispatch =>{\r\n    const response = await streams.patch(`/streams/${id}`,formValues)\r\n    dispatch({type:'EDIT_STREAM',payload: response.data})\r\n    history.push('/')\r\n}\r\nexport const deleteStream = (id) => async dispatch =>{\r\n    await streams.delete(`/streams/${id}`)\r\n    dispatch({type:'DELETE_STREAM',payload: id})\r\n    history.push('/')\r\n}\r\n\r\n","  \r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`  ;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n        className=\"ui form error\"\r\n      >\r\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n        <Field\r\n          name=\"description\"\r\n          component={this.renderInput}\r\n          label=\"Enter Description\"\r\n        />\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n\r\n  if (!formValues.title) {\r\n    errors.title = 'You must enter a title';\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = 'You must enter a description';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\n\r\nexport default reduxForm({\r\n  form: 'streamForm',\r\n  validate\r\n}) (StreamForm)\r\n//connect(mapStateToProps)\r\n\r\n\r\n\r\n","\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {createStream} from '../../actions'\r\nimport StreamForm from './StreamForm'\r\n\r\nexport class StreamCreate extends Component { \r\n\r\n\r\n  onSubmit = (formValues)=>{\r\n    // event.preventDefault(); don;t need that\r\n    // console.log(formValues)\r\n    this.props.createStream(formValues)\r\n\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props)\r\n    return (\r\n      <div>\r\n        <h3>Create a Stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n  \r\n// })\r\n\r\n// const mapDispatchToProps = {\r\n  \r\n// }\r\n\r\n\r\n//connect(mapStateToProps)\r\n\r\nexport default connect(null,{createStream})( StreamCreate)\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {fetchStreams} from '../../actions'\r\nimport {link, Link} from 'react-router-dom'\r\n\r\nclass StreamList extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.fetchStreams()\r\n  }\r\n\r\n  renderAdmin(stream){\r\n    if(stream.userId=== this.props.currentUserId){\r\n      return(\r\n        <div className=\"right floated content\">\r\n          <Link className=\" ui button primary\" to={`/streams/edit/${stream.id}`}>\r\n            Edit\r\n          </Link>\r\n          <Link className=\" ui button negative\" to={`/streams/delete/${stream.id}`}>\r\n            Delete\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderList=()=>{\r\n    return this.props.streams.map(stream =>{\r\n      return(\r\n        <div className='item' key={stream.id}>\r\n          \r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\"/>\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`}className=\"header\">{stream.title}</Link>\r\n\r\n          <div className='description'>\r\n          {stream.description}\r\n          </div>\r\n          </div>\r\n          \r\n          \r\n        </div>\r\n        \r\n      )\r\n    })\r\n  }\r\n\r\n  renderCreate(){\r\n    if(this.props.isSignedIn){\r\n      return(\r\n        <div style={{textAlign: 'right'}}>\r\n          <Link to='/streams/new' className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams:</h2>\r\n      <div className='ui celled list'>{this.renderList()}</div>\r\n      {this.renderCreate()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n}\r\n\r\n// const mapDispatchToProps = {\r\n  \r\n// }\r\n\r\n export default connect(mapStateToProps, {fetchStreams})(StreamList)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\n\r\nconst Modal = props => {\r\n    return ReactDOM.createPortal(\r\n        <div onClick={props.onDismiss}className=\"ui dimmer modals visible active\">\r\n            <div onClick={(e)=>e.stopPropagation()}className=\"ui standard modal visible active\">\r\n                <div className=\"header \">\r\n                {props.title}\r\n                </div>\r\n                <div className='content'>\r\n                    {props.content}\r\n                </div>\r\n                <div className=\"actions\">\r\n                    {props.actions}\r\n                </div> \r\n            </div>\r\n        </div>,document.querySelector('#modal')\r\n    )\r\n}\r\nexport default Modal","import React from 'react';\r\nimport Modal from '../Modal'\r\nimport history from '../../history'\r\nimport { fetchStream, deleteStream } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass StreamDelete  extends React.Component{\r\n  componentDidMount(){\r\n    this.props.fetchStream(this.props.match.params.id)\r\n  }\r\n  renderAction(){\r\n    return (\r\n        <React.Fragment>\r\n          <button className='ui button negative' onClick={()=> this.props.deleteStream(this.props.match.params.id)}>Delete</button>\r\n          <Link className='ui button' to='/'>Cancel</Link>\r\n        </React.Fragment> \r\n    )\r\n  }\r\n  renderContent(){\r\n    if(!this.props.stream){\r\n      return 'Are you sure you want to  delete this stream?'\r\n    }\r\n    return`Are you sure you want to  delete this stream with title: ${this.props.stream.title}`\r\n    \r\n  }\r\n  render(){\r\n  return (   \r\n      <Modal title='Delete Stream' content={this.renderContent()} actions={this.renderAction()} onDismiss={()=> history.push('/')} />\r\n  )\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect (mapStateToProps,{fetchStream,deleteStream })(StreamDelete)\r\n","import React from 'react'\r\n// import history from '../../history'\r\nimport { fetchStream} from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass StreamShow extends React.Component{\r\n  componentDidMount(){\r\n    this.props.fetchStream(this.props.match.params.id)\r\n  }\r\n\r\n  render(){\r\n    if(!this.props.stream){\r\n      return 'Loading...'\r\n    }\r\n    \r\n  return (   \r\n      <div>\r\n        <h1>{this.props.stream.title}</h1>\r\n        <h4>{this.props.stream.description}</h4>\r\n      </div>\r\n  )\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect (mapStateToProps,{fetchStream })(StreamShow)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream,editStream } from '../../actions';\r\nimport  StreamForm  from './StreamForm'\r\nimport _ from 'lodash';\r\n \r\nclass StreamEdit extends React.Component {\r\n  //console.log(this.props)\r\n    componentDidMount() {\r\n        this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n    onSubmit =(formValues) =>{\r\n      // console.log(formValues)\r\n      this.props.editStream(this.props.match.params.id,formValues)\r\n    }\r\n \r\n    render() {\r\n        if (!this.props.stream) {\r\n            return (\r\n              <div>\r\n                Loading...\r\n              </div>\r\n            )\r\n        }\r\n        return (\r\n          <div>\r\n            <h3>\r\n              Edit a Stream\r\n            </h3>\r\n            <StreamForm \r\n            onSubmit={this.onSubmit}\r\n            initialValues={_.pick(this.props.stream, 'title', 'description')}\r\n            />\r\n          </div>\r\n        )\r\n    }\r\n}\r\n \r\nconst mapStateToProps = (state, ownProps) => {\r\n    return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n \r\nexport default connect(mapStateToProps,{fetchStream, editStream})(StreamEdit);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {signIn, signOut} from '../actions/'\r\n\r\nexport class GoogleAuth extends Component {\r\n    \r\n    //gapi client libary javascript refernace\r\n    componentDidMount(){\r\n        window.gapi.load('client:auth2', ()=>{\r\n            window.gapi.client.init({\r\n                //1083543663432-rocmmesl0ges09p5n33fofu030ks4leq.apps.googleusercontent.com\r\n                clientId:'1083543663432-rocmmesl0ges09p5n33fofu030ks4leq.apps.googleusercontent.com',\r\n                scope:'email'\r\n                // scope:'profile'\r\n            }).then(()=>{\r\n                this.auth = window.gapi.auth2.getAuthInstance();\r\n                // this.setState({isSignedIn: this.auth.isSignedIn.get()})// fiset get value\r\n                this.onAuthChange(this.auth.isSignedIn.get())\r\n                this.auth.isSignedIn.listen(this.onAuthChange);// call it evry time with inbuilt event handler\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    onAuthChange =(isSignedIn) =>{\r\n        if (isSignedIn){\r\n            this.props.signIn(this.auth.currentUser.get().getId());\r\n\r\n        }else{\r\n            this.props.signOut();\r\n        }\r\n    }\r\n    onSignInC =()=>{\r\n        this.auth.signIn()\r\n    }\r\n    onSignOutC =()=>{\r\n        this.auth.signOut()\r\n    }\r\n    renderAuthButton(){\r\n        if(this.props.isSignedIn === null){\r\n            return null\r\n        }else if(this.props.isSignedIn){\r\n            return(\r\n                <button className=\"ui red google button\" onClick={this.onSignOutC}>\r\n                    <i className=\"google icon\"/>\r\n                    Sign out\r\n                </button>\r\n            )\r\n        }else{\r\n            return(               \r\n                <button className=\"ui red google button\"onClick={this.onSignInC }>\r\n                    <i className=\"google icon\"/>\r\n                        Sign in with Google\r\n                 </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderAuthButton()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {isSignedIn: state.auth.isSignedIn}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps,{signIn,signOut}) (GoogleAuth)\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport GoogleAuth from './GoogleAuth'\r\nconst Header = () =>{\r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n            Streamy.com\r\n        </Link>\r\n        <div className=\"right menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n            Streams\r\n        </Link>\r\n        </div>\r\n        <GoogleAuth/>\r\n           \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react';\nimport { Router, Route, Switch} from 'react-router-dom';\nimport StreamCreate from './Streams/StreamCreate'\nimport StreamList from './Streams/StreamList'\nimport StreamDelete from './Streams/StreamDelete'\nimport StreamShow from './Streams/StreamShow'\nimport StreamEdit from './Streams/StreamEdit'\nimport Header from './Header'\nimport history from '../history'\n\nconst App = () =>{\n  return (\n    <div className=\"ui container\">\n      \n      <Router history={history}>\n      <div> \n      <Header/>\n        <Switch>\n        <Route path=\"/\" exact component={StreamList}/>\n          <Route path=\"/streams/new\"  component={StreamCreate}/>\n          <Route path=\"/streams/edit/:id\"  component={StreamEdit}/> \n          <Route path=\"/streams/delete/:id\"  component={StreamDelete}/>\n          <Route path=\"/streams/:id\"  component={StreamShow}/>\n        </Switch>\n\n        </div>\n      </Router> \n    </div>\n  )\n}\n\nexport default App;\n","const INITAL_STATE ={\r\n    isSignedIn: null,\r\n    userId: null\r\n}\r\n//defaulting a value in an object\r\n const AuthReducer = (state =INITAL_STATE, action)=>{\r\n    switch(action.type){\r\n        case 'SIGN_IN':\r\n            return{...state, isSignedIn:true, userId:action.payload};\r\n        case 'SIGN_OUT':\r\n            return{...state, isSignedIn:false, userId:null}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default AuthReducer","import { combineReducers } from \"redux\";\r\nimport { reducer } from 'redux-form'\r\nimport  streamReducer from './streamReducers';\r\n\r\nimport authReducers from \"./authReducers\";\r\n\r\nexport default combineReducers({\r\n    auth: authReducers,\r\n    form: reducer,\r\n    streams: streamReducer\r\n})","import _ from 'lodash'\r\n\r\nexport default( state = {}, action) =>{\r\n    switch(action.type){\r\n        case 'FETCH_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'CREATE_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'EDIT_STREAM':\r\n            return {...state,[action.payload.id]:action.payload};\r\n        case 'DELETE_STREAM':\r\n            return _.omit(state, action.payload)// makes a new object on it's own\r\n        case 'FETCH_STREAMS':\r\n            return { ...state, ..._.mapKeys(action.payload,'id')}\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport {createStore, compose, applyMiddleware} from 'redux'\nimport reduxThunk from 'redux-thunk'\n\nimport App from './components/App';\nimport reducers from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n  )\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>\n    ,\n  document.querySelector('#root')\n);\n\n\n"],"sourceRoot":""}